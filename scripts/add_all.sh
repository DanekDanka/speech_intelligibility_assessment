#!/bin/bash

# Скрипт для последовательного запуска всех скриптов обработки аудио
# Добавляет шум, реверберацию и их комбинацию

# Получаем директорию, где находится скрипт
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

echo "=========================================="
echo "Запуск обработки аудио файлов"
echo "=========================================="
echo ""

# Переходим в директорию со скриптами
cd "$SCRIPT_DIR"

# 1. Добавление шума
echo "1/3: Добавление шума к аудио файлам..."
echo "----------------------------------------"
python3 scripts/add_noise.py
if [ $? -ne 0 ]; then
    echo "ОШИБКА: Не удалось добавить шум"
    exit 1
fi
echo "✓ Шум успешно добавлен"
echo ""

# 2. Добавление реверберации
echo "2/3: Добавление реверберации к аудио файлам..."
echo "----------------------------------------"
python3 scripts/add_reverbiration.py
if [ $? -ne 0 ]; then
    echo "ОШИБКА: Не удалось добавить реверберацию"
    exit 1
fi
echo "✓ Реверберация успешно добавлена"
echo ""

# 3. Добавление шума и реверберации
echo "3/3: Добавление шума и реверберации к аудио файлам..."
echo "----------------------------------------"
python3 scripts/add_noise_reverbiration.py
if [ $? -ne 0 ]; then
    echo "ОШИБКА: Не удалось добавить шум и реверберацию"
    exit 1
fi
echo "✓ Шум и реверберация успешно добавлены"
echo ""

echo "=========================================="
echo "Все скрипты выполнены успешно!"
echo "=========================================="
